<div class="mx-auto max-w-2xl space-y-6">
  <div>
    <h1 class="text-2xl font-bold text-white">Make a Commitment</h1>
    <p class="mt-1 text-sm text-gray-400">This can't be edited. Can't be deleted. Can't be extended. Choose carefully.</p>
  </div>

  <% if @commitment.errors.any? %>
    <div class="rounded-lg bg-red-900/50 border border-red-700 p-4 text-sm text-red-300">
      <%= @commitment.errors.full_messages.join(". ") %>
    </div>
  <% end %>

  <!-- No-escape warning -->
  <div class="rounded-lg border border-amber-800/50 bg-amber-900/20 p-3 text-xs text-amber-300">
    Once you commit, there's no going back. No editing the title. No pushing the deadline. No deleting it if you fail. This is permanent.
  </div>

  <%= form_with model: @commitment, class: "space-y-6" do |f| %>
    <div>
      <label class="block text-sm font-medium text-gray-300">What are you committing to?</label>
      <%= f.text_field :title, required: true, autofocus: true,
          class: "mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-3 text-gray-100 placeholder-gray-500 focus:border-red-500 focus:ring-red-500 focus:outline-none",
          placeholder: 'e.g. "Ship the landing page" or "Run 5km"' %>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-300">What does "done" look like? (optional)</label>
      <%= f.text_area :description, rows: 3,
          class: "mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-3 text-gray-100 placeholder-gray-500 focus:border-red-500 focus:ring-red-500 focus:outline-none resize-none",
          placeholder: "Be specific. Vague commitments are easy to dodge." %>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-300">Category</label>
      <%= f.select :category,
          options_for_select([
            ["Work", "work"],
            ["Health", "health"],
            ["Learning", "learning"],
            ["Personal", "personal"],
            ["Finance", "finance"],
            ["Fitness", "fitness"]
          ]),
          { prompt: "Where does this fall?" },
          { required: true, class: "mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-3 text-gray-100 focus:border-red-500 focus:ring-red-500 focus:outline-none" } %>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-300">Deadline</label>
      <%= f.datetime_local_field :deadline, required: true,
          class: "mt-1 block w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-3 text-gray-100 focus:border-red-500 focus:ring-red-500 focus:outline-none" %>
      <p class="mt-1 text-xs text-red-400/70">This deadline is final. No extensions. No exceptions.</p>
    </div>

    <div class="flex gap-3">
      <%= f.submit "I Commit", class: "rounded-lg bg-red-600 px-6 py-3 text-sm font-semibold text-white hover:bg-red-500 transition cursor-pointer" %>
      <%= link_to "Not ready", root_path, class: "rounded-lg border border-gray-700 px-6 py-3 text-sm text-gray-300 hover:bg-gray-800 transition" %>
    </div>
  <% end %>
</div>
