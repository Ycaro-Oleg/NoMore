<%= turbo_frame_tag dom_id(commitment) do %>
  <div class="rounded-xl border border-gray-800 bg-gray-900 p-4 flex items-center justify-between gap-4">
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-3">
        <h3 class="text-sm font-semibold text-white truncate"><%= commitment.title %></h3>
        <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
          <%= case commitment.status
              when 'active' then 'bg-blue-900/50 text-blue-300 border border-blue-700/50'
              when 'completed' then 'bg-green-900/50 text-green-300 border border-green-700/50'
              when 'failed' then 'bg-red-900/50 text-red-300 border border-red-700/50'
              end %>">
          <%= commitment.status.capitalize %>
        </span>
        <span class="inline-flex items-center rounded-full bg-gray-800 px-2 py-0.5 text-xs text-gray-400">
          <%= commitment.category %>
        </span>
      </div>
      <% if commitment.description.present? %>
        <p class="mt-1 text-sm text-gray-400 truncate"><%= commitment.description %></p>
      <% end %>
      <p class="mt-1 text-xs text-gray-500">
        Deadline: <span class="<%= 'text-red-400' if commitment.active? && commitment.deadline < 24.hours.from_now %>">
          <%= commitment.deadline.strftime("%b %d, %Y at %I:%M %p") %>
        </span>
      </p>
    </div>

    <% if commitment.active? %>
      <%= button_to "Complete", complete_commitment_path(commitment), method: :patch,
          class: "shrink-0 rounded-lg bg-green-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-green-500 transition cursor-pointer" %>
    <% end %>
  </div>
<% end %>
